---
title: "01_basics"
author: "Fran Camacho"
date: "2025-03-25"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## 1. Intro

...


## 2. The basics


### 2.4.3 Vectors and data frames



```{r}
age <- c(10, 28, 48, 47, 71, 22, 80, 48, 30, 31)
age

age_months <- age * 12
age_months
```



```{r}
purchase <- c(14, 20, 59, 2, 12, 22, 160, 34, 34, 29)
purchase
```

It would be nice to combine these two vectors into a table -> dataframe

```{r}
bookstore <- data.frame(age, purchase)
bookstore
```

The fact that

```{r}
x <- 4
x
```


renders the output  [1] 4

tells us that **x in fact is a vector, albeit with a single element**. Almost everything in R is a vector, in one way or another.


**Exercise 2.4 Do the following:**

Create two vectors, height and weight, containing the heights and weights of five fictional people (i.e., just make up some numbers!).
Combine your two vectors into a data frame.

```{r}
names <- c("foo", "mola", "nandia", "fefe", "ogogo")
heights <- c(177, 220, 190, 168, 201)
weights <- c(88, 110, 95, 60, 90)

people1 <- data.frame(names, heights, weights)
people1
```


### 2.4.4 Functions


Compute the mean age of bookstore customers:

```{r}
mean(age)
```

Note that the code follows the pattern function_name(variable_name): the function’s name is mean and the variable’s name is age.


Compute the **correlation** between the variables age and purchase:

```{r}
cor(bookstore$age, bookstore$purchase)
```

The answer, 0.59, means that there appears to be a fairly strong positive correlation between age and the purchase size, 
which implies that older customers tend to spend more.

On the other hand, just by looking at the data we can see that the oldest customer, aged 80, spent much more than anybody else – 160 monetary units. 
It can happen that such outliers strongly influence the computation of the correlation. 
By default, cor uses the **Pearson correlation formula**, which is known to be sensitive to outliers. 
It is therefore of interest to also perform the computation using a formula that is more robust to outliers, such as the **Spearman correlation**.

```{r}
cor(age, purchase, method = "spearman")
```

The resulting correlation, 0.35, is substantially lower than the previous result. Perhaps the correlation isn’t all that strong after all.

So, how can we know what arguments to pass to a function? We can look at the documentation  ->  ?cor


Finally, there are a few functions that don’t require any input at all, because they don’t do anything with your variables. 
One such example is **Sys.time()** which prints the current time on your system:

Sys.time()  

[1] "2025-03-25 21:48:15 CET"




**Exercise 2.6 Using the data you created in Exercise 2.4, do the following:**

Compute the mean height of the people.

Compute the correlation between height and weight.

```{r}
mean(people1$heights)

cor(people1$heights, people1$weights, method = "spearman")
```


**Exercise 2.7 Do the following:**

Read the documentation for the function length. What does it do? Apply it to your height vector.

Read the documentation for the function sort. What does it do? What does the argument decreasing (the values of which can be either FALSE or TRUE) do? Apply the function to your weight vector.

?length
"Get or set the length of vectors (including lists) and factors, and of any other R object for which a method has been defined."

?sort

```{r}
length(people1$heights)

sort(people1$weights, decreasing = TRUE)
```


### 2.4.5 Mathematical operations


abs(x): computes the absolute value |x|

sqrt(x): computes √x

log(x): computes the logarithm of x with the natural number e as the base

log(x, base = a): computes the logarithm of x with the number a as the base.

a^x: computes a to the power of x

exp(x): computes e to the power of x

sin(x): computes sin(x)

sum(x): when x is a vector x=(x1,x2,x3,…,xn), computes the sum of the elements of x: ∑ni=1xi

prod(x): when x is a vector x=(x1,x2,x3,…,xn), it computes the product of the elements of x

pi: a built-in variable with value π, the ratio of the circumference of a circle to its diameter.

x %% a: computes x modulo a

factorial(x): computes x!

choose(n,k): computes 
(n)
(k)


```{r}
exp(1)

sin(people1$weights)

sum(people1$weights)

factorial(4)

choose(4,2)
```


**Exercise 2.8 Compute the following:**

√π

e2⋅log(4)


```{r}
sqrt(pi)

exp(2)*log(4)
```


**Exercise 2.9 R will return non-numerical answers if you try to perform computations where the answer is infinite or undefined. Try the following to see some possible results:**

- Compute 1/0

1/0
[1] Inf

- Compute 0/0

0/0
[1] NaN


Compute √−1

sqrt(-1)
[1] NaN
Aviso:
In sqrt(-1) : Se han producido NaNs


### 2.5 Packages


